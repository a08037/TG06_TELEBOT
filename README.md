# README

## Описание проекта

Это Telegram-бот, созданный с использованием библиотеки `aiogram`, который помогает пользователям управлять личными финансами. Бот предоставляет несколько полезных функций, таких как:

- **Регистрация пользователя** — сохранение данных о пользователе в базе данных SQLite.
- **Курс валют** — отображение актуальных курсов валют с использованием API.
- **Советы по экономии** — предоставление случайных советов по управлению финансами.
- **Личные финансы** — пользователь может вводить свои категории и расходы, которые сохраняются в базе данных.

## Установка и запуск

1. Склонируйте репозиторий:
    ```bash
    git clone <URL_репозитория>
    ```

2. Установите зависимости:
    ```bash
    pip install -r requirements.txt
    ```

3. Создайте файл `config.py` и добавьте в него токен вашего бота Telegram:
    ```python
    TOKEN = 'ваш_токен_бота'
    ```

4. Запустите бота:
    ```bash
    python main.py
    ```

## Основные функции

### 1. **Регистрация пользователя**
- **Описание:** При нажатии на кнопку "Регистрация в телеграм боте" бот проверяет, зарегистрирован ли пользователь. Если нет, то данные пользователя (ID и имя) сохраняются в базе данных SQLite.
- **Сложность:** O(1)

### 2. **Получение курса валют**
- **Описание:** При нажатии на кнопку "Курс валют" бот делает асинхронный запрос к API и возвращает курсы валют USD к RUB и EUR к RUB.
- **Сложность:** O(1)

### 3. **Советы по экономии**
- **Описание:** При нажатии на кнопку "Советы по экономии" бот предоставляет случайный совет из списка.
- **Сложность:** O(1)

### 4. **Управление личными финансами**
- **Описание:** Бот позволяет пользователю ввести три категории и указать расходы по каждой из них. Данные сохраняются в базе данных.
- **Сложность:**
  - **Ввод данных:** O(1) для каждой категории и расхода.
  - **Обновление данных в БД:** O(1) при условии, что поле `telegram_id` индексировано.

## Сложность алгоритмов

| **Функция**                | **Сложность** | **Обоснование**                                                |
|---------------------------|---------------|---------------------------------------------------------------|
| `registration`             | O(1)          | Операции `SELECT` и `INSERT` с индексированным полем            |
| `exchange_rates`           | O(1)          | Запрос к API и обработка ответа с фиксированным объемом данных |
| `send_tips`                | O(1)          | Выбор случайного элемента из фиксированного списка             |
| `finances`                 | O(1)          | Установка состояния, фиксированное количество операций        |
| `finances_category1`       | O(1)          | Ввод одной строки, обновление контекста FSM                    |
| `finances_expenses1`       | O(1)          | Ввод одной строки, обновление контекста FSM                    |
| `finances_category2`       | O(1)          | Ввод одной строки, обновление контекста FSM                    |
| `finances_expenses2`       | O(1)          | Ввод одной строки, обновление контекста FSM                    |
| `finances_category3`       | O(1)          | Ввод одной строки, обновление контекста FSM                    |
| `finances_expenses3`       | O(1)          | Обновление строки в базе данных с индексированным полем        |

## База данных

База данных SQLite используется для хранения информации о пользователях и их расходах.

**Структура таблицы `users`:**
| Поле         | Тип данных  | Описание                       |
|--------------|-------------|---------------------------------|
| `id`         | INTEGER     | Уникальный идентификатор        |
| `telegram_id`| INTEGER     | Telegram ID пользователя        |
| `name`       | TEXT        | Имя пользователя                |
| `category1`  | TEXT        | Название первой категории       |
| `expenses1`  | REAL        | Сумма расходов по первой категории|
| `category2`  | TEXT        | Название второй категории       |
| `expenses2`  | REAL        | Сумма расходов по второй категории|
| `category3`  | TEXT        | Название третьей категории      |
| `expenses3`  | REAL        | Сумма расходов по третьей категории|

## Используемые технологии
- **Python** — основной язык программирования.
- **Aiogram** — библиотека для создания Telegram-ботов.
- **SQLite** — база данных для хранения пользовательской информации.

## Требования
- Python 3.8+
- Aiogram 3.0+ (для работы с асинхронностью и FSM)
- SQLite (устанавливается по умолчанию с Python)

## Инструкции по развитию

1. **Добавить обработку ошибок** — улучшить обработку ошибок при работе с базой данных и API.
2. **Добавить дополнительные советы** — пополнить список советов по управлению финансами.
3. **Добавить новые функции** — добавить возможность анализа расходов и создания отчётов.

## Лицензия
Этот проект находится под лицензией MIT. Подробности см. в файле LICENSE.

## Автор
Этот проект был разработан для образовательных целей. Вы можете использовать его для обучения или доработки под свои нужды.

---

